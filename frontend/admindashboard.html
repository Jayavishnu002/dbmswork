<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .backimg1 {
            background-image: url(https://ik.imagekit.io/cluqqmqj7/dbms%20project/login%20bg.jpg);
            background-size: cover;
            background-repeat: no-repeat;
            height: 100vh;
        }

        .table-container {
            max-height: 300px;
            overflow-y: auto;
        }

        @keyframes flip {
            0% {
                transform: rotateY(0deg);
            }
            100% {
                transform: rotateY(180deg);
            }
        }

        .animate-flip {
            animation: flip 4.5s infinite alternate;
            animation-play-state: running;
        }

        .letter {
            display: inline-block;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .active {
            background-color: #64748b;
            color: white;
        }

        #techverse {
            font-size: 2rem;
            font-weight: bold;
            color: black;
            padding: 0.5rem 0;
            text-transform: uppercase;
            display: flex;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
        }
    </style>
</head>

<body class="font-[poppins]">
    <div class="2xl:container backimg1 gap-2 p-2 fixed w-full mx-auto bg-red-400 flex flex-row">
        <div class="w-[22%]">
            <div class="h-screen space-y-3 py-4 px-3 text-center rounded-3xl border border-black shadow-2xl bg-slate-300 bg-opacity-60">
                <div class="logo-container w-full space-x-2 flex justify-center space-x-4 border-4 border-black px-6 py-2 rounded-3xl">
                    <img src="https://ik.imagekit.io/cluqqmqj7/dbms%20project/Screenshot%202024-10-09%20235600.png" alt="logo" class="h-12 w-12 rounded-full transition-transform duration-200 animate-flip logo border border-black" id="logo">
                    <p id="techverse"></p>
                </div>
                <h1 class="text-2xl border-b-2 border-black font-semibold">Admin Dashboard</h1>
                <nav class="mt-6 font-bold">
                    <ul>
                        <li class="menu-item py-2 my-1 px-4 hover:bg-slate-500 hover:underline rounded-full" data-page="dashboard"><a href="#">Dashboard</a></li>
                        <li class="menu-item py-2 px-4 my-1 hover:bg-slate-500 hover:underline rounded-full" data-page="home"><a href="./home.html">Home</a></li>
                        <li class="menu-item py-2 px-4 my-1 hover:bg-slate-500 hover:underline rounded-full text-red-500" data-page="logout"><a href="./login.html">Logout</a></li>
                    </ul>
                </nav>
            </div>
        </div>

        <div class="w-[90%] mx-auto space-y-10 bg-slate-300 bg-opacity-60 rounded-3xl border border-black shadow-2xl py-4 px-3">
            <div>
                <h1 class="text-3xl border-b-2 border-black py-1 font-semibold text-center">Admin Management</h1>
            </div>
            <div class="flex space-x-2">
                <input type="text" placeholder="Search..." class="border border-black shadow-2xl rounded-full px-4 w-64" />
                <select class="border border-black px-2 py-2 shadow-2xl rounded-2xl w-48">
                    <option value="">Filter by Department</option>
                    <option value="IT">IT</option>
                    <option value="HR">HR</option>
                    <option value="Finance">Finance</option>
                    <option value="Marketing">Marketing</option>
                </select>
                <select class="border border-black px-2 shadow-2xl rounded-2xl w-48">
                    <option value="">Sort by</option>
                    <option value="name">Name</option>
                    <option value="designation">Designation</option>
                </select>
            </div>
            <div class="flex justify-end space-x-2">
                <button id="addEmployeeButton" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Add Employee</button>
                <button id="removeEmployeeButton" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Remove Employee</button>
            </div>
            <div class="w-[90%]">
                <div class="bg-white w-fit mx-auto p-4 flex-col h-fit rounded-3xl border border-black shadow-2xl">
                    <h2 class="font-semibold text-lg mb-4 text-center">Employee List</h2>
                    <div class="table-container">
                        <table class="min-w-full bg-white" id="employeeTable">
                            <thead>
                                <tr class="border-b border-black">
                                    <th class="py-2 px-4 text-left">Name</th>
                                    <th class="py-2 px-4 text-left">Email</th>
                                    <th class="py-2 px-4 text-left">Department</th>
                                    <th class="py-2 px-4 text-left">Designation</th>
                                    <th class="py-2 px-4 text-left">Status</th>
                                    <th class="py-2 px-4 text-left">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-black hover:bg-slate-300" data-name="John Doe">
                                    <td class="py-2 px-4">John Doe</td>
                                    <td class="py-2 px-4">john@example.com</td>
                                    <td class="py-2 px-4">IT</td>
                                    <td class="py-2 px-4">Developer</td>
                                    <td class="py-2 px-4">Active</td>
                                    <td class="py-2 px-4">
                                        <button class="text-red-600 hover:underline edit-button">Edit</button>
                                    </td>
                                </tr>
                                <tr class="border-b border-black hover:bg-slate-300" data-name="Jane Smith">
                                    <td class="py-2 px-4">Jane Smith</td>
                                    <td class="py-2 px-4">jane@example.com</td>
                                    <td class="py-2 px-4">HR</td>
                                    <td class="py-2 px-4">Manager</td>
                                    <td class="py-2 px-4">Inactive</td>
                                    <td class="py-2 px-4">
                                        <button class="text-red-600 hover:underline edit-button">Edit</button>
                                    </td>
                                </tr>
                                <!-- Add more rows as needed -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Employee Removal Confirmation -->
    <div id="removeEmployeeModal" class="modal fixed inset-0 z-50 hidden flex justify-center items-center bg-black bg-opacity-50">
        <div class="modal-content bg-white rounded-3xl shadow-2xl p-6 w-96 mx-auto border border-black">
            <span id="closeModal" class="close absolute top-2 right-2 cursor-pointer text-gray-500 hover:text-gray-800">&times;</span>
            <h2 class="text-center font-semibold">Remove Employee</h2>
            <p>Select the employee to remove:</p>
            <select id="employeeSelect" class="border border-black px-2 py-2 shadow-2xl rounded-2xl w-full">
                <option value="John Doe">John Doe</option>
                <option value="Jane Smith">Jane Smith</option>
                <!-- Add more options as needed -->
            </select>
            <div class="flex justify-between mt-4">
                <button id="confirmRemoveButton" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Confirm</button>
                <button id="cancelRemoveButton" class="bg-gray-400 rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for Adding Employee -->
    <div id="addEmployeeModal" class="modal fixed inset-0 z-50 hidden flex justify-center items-center bg-black bg-opacity-50">
        <div class="modal-content bg-white rounded-3xl shadow-2xl p-6 w-96 mx-auto border border-black">
            <span id="closeAddEmployeeModal" class="close absolute top-2 right-2 cursor-pointer text-gray-500 hover:text-gray-800">&times;</span>
            <h2 class="text-center font-semibold">Add Employee</h2>
            <form id="addEmployeeForm">
                <input type="text" id="employeeName" placeholder="Name" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="email" id="employeeEmail" placeholder="Email" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="text" id="employeeDepartment" placeholder="Department" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="text" id="employeeDesignation" placeholder="Designation" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <select id="employeeStatus" required class="border border-black rounded w-full px-2 py-2 my-2">
                    <option value="Active">Active</option>
                    <option value="Inactive">Inactive</option>
                </select>
                <div class="flex justify-between mt-4">
                    <button type="submit" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Add</button>
                    <button id="cancelAddEmployeeButton" type="button" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Editing Employee -->
    <div id="editEmployeeModal" class="modal fixed inset-0 z-50 hidden flex justify-center items-center bg-black bg-opacity-50">
        <div class="modal-content bg-white rounded-3xl shadow-2xl p-6 w-96 mx-auto border border-black">
            <span id="closeEditEmployeeModal" class="close absolute top-2 right-2 cursor-pointer text-gray-500 hover:text-gray-800">&times;</span>
            <h2 class="text-center font-semibold">Edit Employee</h2>
            <form id="editEmployeeForm">
                <input type="text" id="editEmployeeName" placeholder="Name" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="email" id="editEmployeeEmail" placeholder="Email" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="text" id="editEmployeeDepartment" placeholder="Department" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <input type="text" id="editEmployeeDesignation" placeholder="Designation" required class="border border-black rounded w-full px-2 py-2 my-2" />
                <select id="editEmployeeStatus" required class="border border-black rounded w-full px-2 py-2 my-2">
                    <option value="Active">Active</option>
                    <option value="Inactive">Inactive</option>
                </select>
                <div class="flex justify-between mt-4">
                    <button type="submit" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Update</button>
                    <button id="cancelEditEmployeeButton" type="button" class="bg-black rounded-3xl border border-black shadow-2xl text-white px-4 py-2">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Function to animate letters of "TECHVERSE"
        const text = "TECHVERSE";
        const techverseContainer = document.getElementById('techverse');

        function animateLetters() {
            techverseContainer.innerHTML = ''; // Clear previous letters
            let delay = 0;

            // Create span for each letter
            text.split('').forEach((letter) => {
                const span = document.createElement('span');
                span.textContent = letter;
                span.classList.add('letter');
                span.style.animationDelay = `${delay}s`; // Set delay for each letter
                techverseContainer.appendChild(span);
                delay += 0.5; // Increase delay for the next letter
            });

            // Keep the logo flipping until all letters have appeared
            setTimeout(() => {
                // Stop the flipping animation of the logo
                const logo = document.getElementById('logo');
                logo.style.animationPlayState = 'paused'; // Pause the logo animation

                // Wait for 2 seconds before restarting the animations
                setTimeout(() => {
                    logo.style.animationPlayState = 'running'; // Resume the logo animation
                    animateLetters(); // Restart the letter animation
                }, 2000); // Pause for 2 seconds
            }, delay * 1000); // Delay matches the letter animation duration
        }

        // Start the letter animation
        animateLetters();

        // JavaScript for handling employee addition
        const addEmployeeButton = document.getElementById('addEmployeeButton');
        const addEmployeeModal = document.getElementById('addEmployeeModal');
        const closeAddEmployeeModal = document.getElementById('closeAddEmployeeModal');
        const addEmployeeForm = document.getElementById('addEmployeeForm');
        const employeeTableBody = document.querySelector('#employeeTable tbody');

        // Open the add employee modal
        addEmployeeButton.addEventListener('click', function () {
            addEmployeeModal.classList.remove("hidden");
        });

        // Close modal when clicking the close button
        closeAddEmployeeModal.addEventListener('click', function () {
            addEmployeeModal.classList.add("hidden");
        });

        // Close modal when clicking the cancel button
        document.getElementById('cancelAddEmployeeButton').addEventListener('click', function () {
            addEmployeeModal.classList.add("hidden");
        });

        // Add employee to the table on form submission
        addEmployeeForm.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form submission

            // Get the input values
            const name = document.getElementById('employeeName').value;
            const email = document.getElementById('employeeEmail').value;
            const department = document.getElementById('employeeDepartment').value;
            const designation = document.getElementById('employeeDesignation').value;
            const status = document.getElementById('employeeStatus').value;

            // Create a new row
            const newRow = document.createElement('tr');
            newRow.classList.add('border-b', 'border-black', 'hover:bg-slate-300');
            newRow.setAttribute('data-name', name);
            newRow.innerHTML = `
                <td class="py-2 px-4">${name}</td>
                <td class="py-2 px-4">${email}</td>
                <td class="py-2 px-4">${department}</td>
                <td class="py-2 px-4">${designation}</td>
                <td class="py-2 px-4">${status}</td>
                <td class="py-2 px-4">
                    <button class="text-red-600 hover:underline edit-button">Edit</button>
                </td>
            `;

            // Append the new row to the table
            employeeTableBody.appendChild(newRow);

            // Reset the form and close the modal
            addEmployeeForm.reset();
            addEmployeeModal.classList.add("hidden");
        });

        // JavaScript for handling employee removal
        const removeEmployeeButton = document.getElementById('removeEmployeeButton');
        const removeEmployeeModal = document.getElementById('removeEmployeeModal');
        const closeRemoveEmployeeModal = document.getElementById('closeModal');
        const employeeSelect = document.getElementById('employeeSelect');

        // Open the remove employee modal
        removeEmployeeButton.addEventListener('click', function () {
            removeEmployeeModal.classList.remove("hidden");
        });

        // Close modal when clicking the close button
        closeRemoveEmployeeModal.addEventListener('click', function () {
            removeEmployeeModal.classList.add("hidden");
        });

        // Close modal when clicking the cancel button
        document.getElementById('cancelRemoveButton').addEventListener('click', function () {
            removeEmployeeModal.classList.add("hidden");
        });

        // Remove employee from the table on confirmation
        document.getElementById('confirmRemoveButton').addEventListener('click', function () {
            const employeeNameToRemove = employeeSelect.value;

            // Find the row to remove
            const rowToRemove = Array.from(employeeTableBody.rows).find(row => {
                return row.getAttribute('data-name') === employeeNameToRemove;
            });

            if (rowToRemove) {
                employeeTableBody.removeChild(rowToRemove);
            }

            // Close the modal
            removeEmployeeModal.classList.add("hidden");
        });

        // Populate the employee select options in the removal modal
        function populateEmployeeSelect() {
            employeeSelect.innerHTML = ''; // Clear existing options
            Array.from(employeeTableBody.rows).forEach(row => {
                const employeeName = row.getAttribute('data-name');
                const option = document.createElement('option');
                option.value = employeeName;
                option.textContent = employeeName;
                employeeSelect.appendChild(option);
            });
        }

        // Event listener to populate employee select when the modal opens
        removeEmployeeButton.addEventListener('click', function () {
            populateEmployeeSelect();
        });

        // JavaScript for handling employee editing
        const editEmployeeModal = document.getElementById('editEmployeeModal');
        const closeEditEmployeeModal = document.getElementById('closeEditEmployeeModal');
        const editEmployeeForm = document.getElementById('editEmployeeForm');

        // Open the edit employee modal
        employeeTableBody.addEventListener('click', function (event) {
            if (event.target.classList.contains('edit-button')) {
                const row = event.target.closest('tr');
                const name = row.cells[0].textContent;
                const email = row.cells[1].textContent;
                const department = row.cells[2].textContent;
                const designation = row.cells[3].textContent;
                const status = row.cells[4].textContent;

                // Fill the form with the employee's current details
                document.getElementById('editEmployeeName').value = name;
                document.getElementById('editEmployeeEmail').value = email;
                document.getElementById('editEmployeeDepartment').value = department;
                document.getElementById('editEmployeeDesignation').value = designation;
                document.getElementById('editEmployeeStatus').value = status;

                // Show the modal
                editEmployeeModal.classList.remove("hidden");
            }
        });

        // Close modal when clicking the close button
        closeEditEmployeeModal.addEventListener('click', function () {
            editEmployeeModal.classList.add("hidden");
        });

        // Close modal when clicking the cancel button
        document.getElementById('cancelEditEmployeeButton').addEventListener('click', function () {
            editEmployeeModal.classList.add("hidden");
        });

        // Update employee details on form submission
        editEmployeeForm.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form submission

            // Get the input values
            const name = document.getElementById('editEmployeeName').value;
            const email = document.getElementById('editEmployeeEmail').value;
            const department = document.getElementById('editEmployeeDepartment').value;
            const designation = document.getElementById('editEmployeeDesignation').value;
            const status = document.getElementById('editEmployeeStatus').value;

            // Find the row to update
            const rowToUpdate = Array.from(employeeTableBody.rows).find(row => {
                return row.getAttribute('data-name') === name; // Assuming name is unique
            });

            if (rowToUpdate) {
                rowToUpdate.cells[0].textContent = name;
                rowToUpdate.cells[1].textContent = email;
                rowToUpdate.cells[2].textContent = department;
                rowToUpdate.cells[3].textContent = designation;
                rowToUpdate.cells[4].textContent = status;
            }

            // Reset the form and close the modal
            editEmployeeForm.reset();
            editEmployeeModal.classList.add("hidden");
        });
    </script>
</body>

</html>
